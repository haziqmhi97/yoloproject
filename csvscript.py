import numpy as np
import csv

# Your data
raw_data = np.array([
    [0, 0, 946.63, 529.29, 74.654, 162.53, 0.86572, 944.41, 477.25, 0.98288, 948.02, 472.49, 0.95602, 939.24, 472.94, 0.98004, 952.94, 472.5, 0.42484, 930.44, 473.51, 0.84287, 954.03, 494.47, 0.97089, 923.82, 498.63, 0.97536, 961.15, 525.07, 0.86548, 928.76, 536.03, 0.92072, 966.94, 546.89, 0.80517, 956.52, 550.71, 0.87476, 953.04, 564.51, 0.93905, 931.64, 566.75, 0.94361, 954.6, 613.22, 0.65992, 935.14, 615.22, 0.69281, 952.93, 656.68, 0.28915, 934.13, 658.33, 0.30924],
    [0, 0, 1253.8, 759.41, 200.18, 247.19, 0.83518, 1259.2, 683.22, 0.015476, 1256.2, 675.28, 0.0083556, 1261, 676.3, 0.00879, 1239.2, 677.38, 0.71534, 1282.7, 681.02, 0.77918, 1210, 735.21, 0.98155, 1306.5, 739.74, 0.98419, 1172.3, 801, 0.85637, 1335.3, 819.59, 0.89527, 1203.5, 765.04, 0.51748, 1332.5, 833.67, 0.58273, 1224.6, 865.73, 0.94281, 1287.1, 868.3, 0.94362, 1226.6, 929.69, 0.43703, 1285.5, 929.34, 0.45213, 1234.2, 1005.6, 0.095769, 1281.6, 1009.4, 0.10122],
    [0, 0, 1737.2, 590.34, 66.311, 173.65, 0.78111, 1759.4, 533.92, 0.64236, 1761.7, 529.72, 0.14686, 1758, 529.2, 0.61126, 1755.8, 524.12, 0.05827, 1751.4, 524.99, 0.82901, 1739.9, 540.74, 0.80424, 1742.1, 544.49, 0.96597, 1740.7, 572.6, 0.27932, 1743.8, 576.5, 0.92769, 1754.1, 595.22, 0.25668, 1757.6, 598.92, 0.84642, 1727.6, 591.69, 0.86285, 1728.6, 593.87, 0.94739, 1726.1, 632.19, 0.74766, 1726.8, 633.72, 0.89892, 1718.5, 667.95, 0.64983, 1718.8, 671.03, 0.79913],
    [0, 0, 1263.8, 582.19, 78.721, 154.04, 0.73584, 1276.1, 544, 0.80227, 1280.3, 539.16, 0.59993, 1271.6, 538.67, 0.82433, 1285.2, 538.25, 0.13364, 1261, 535.71, 0.82262, 1283.4, 557.62, 0.95847, 1243.7, 559.44, 0.96869, 1284.8, 588.14, 0.84413, 1236.4, 598.81, 0.91664, 1292.8, 602.48, 0.77797, 1268.7, 613.53, 0.86282, 1280.7, 631.95, 0.87076, 1253, 634.24, 0.88571, 1282.9, 678.76, 0.32344, 1255, 681.06, 0.36587, 1283.2, 714.07, 0.11391, 1254.2, 716.05, 0.12703],
    [0, 0, 1485.2, 691.29, 129.2, 194.72, 0.71565, 1505.4, 651.88, 0.86299, 1514.6, 648.97, 0.79109, 1503.8, 642.45, 0.67534, 1532, 643.41, 0.55943, 1499.8, 628.42, 0.45268, 1537, 670.81, 0.95047, 1479.9, 642.19, 0.94929, 1519.3, 727.26, 0.91478, 1465.9, 692.38, 0.90149, 1479, 747.07, 0.87796, 1453.6, 722.49, 0.86408, 1501.1, 762.14, 0.94665, 1465.9, 750.15, 0.94531, 1492.1, 819.81, 0.75524, 1460.3, 813.1, 0.74154, 1497.9, 882.88, 0.45276, 1468.7, 876.35, 0.44214],
    [0, 0, 252.12, 527.91, 66.175, 110.42, 0.61736, 261.39, 507.84, 0.40555, 261.14, 502.36, 0.033544, 259.07, 502.56, 0.57455, 238.13, 500.04, 0.075737, 249.92, 502.33, 0.83826, 227.86, 523.86, 0.8132, 241.9, 527.72, 0.94673, 234.95, 560.51, 0.30033, 248.16, 566.7, 0.87082, 263.45, 559.84, 0.20154, 273.22, 561.63, 0.69742, 229.9, 584.34, 0.43755, 241.87, 587.4, 0.62408, 252.57, 606.04, 0.064186, 269.71, 606.85, 0.14056, 248.15, 623.12, 0.035153, 260.48, 624.74, 0.062386],
    [0, 0, 1253.1, 840.21, 201.14, 410.15, 0.25517, 1255.6, 687.71, 0.032535, 1253.6, 679.32, 0.012481, 1256.9, 679.76, 0.024427, 1236.8, 678.48, 0.39684, 1284.8, 681.06, 0.6606, 1210.1, 735.11, 0.96391, 1306.4, 740.12, 0.97153, 1170.8, 799.4, 0.76022, 1333.7, 818.21, 0.85349, 1200.4, 766.28, 0.43479, 1329.5, 836.48, 0.57199, 1225.1, 861.86, 0.9756, 1287.9, 863.75, 0.97796, 1225.4, 941.92, 0.94602, 1286.3, 940.31, 0.95423, 1228.3, 1023.2, 0.86488, 1285, 1024.2, 0.8806],
    [0, 0, 1485.5, 762.28, 128.65, 321.47, 0.20712, 1505.5, 651.56, 0.79155, 1513.6, 647.83, 0.76481, 1504.2, 643.06, 0.44834, 1530, 642.01, 0.56745, 1499.3, 629.18, 0.29885, 1533.6, 671.06, 0.96332, 1482.1, 645.01, 0.95811, 1519.7, 726.94, 0.94152, 1470, 691.95, 0.89752, 1477.4, 744.34, 0.9275, 1454.2, 721.37, 0.87704, 1498, 763.19, 0.96057, 1464.8, 751.04, 0.95641, 1494.1, 826.94, 0.86042, 1462.6, 817.35, 0.83395, 1500.7, 893.13, 0.64114, 1468.9, 878.43, 0.61271]
])

# Reshape the data to have 3 values (x, y, confidence) for each keypoint
reshaped_data = raw_data[:, 2:].reshape(raw_data.shape[0], 6, 3)

print("Reshaped data shape:", reshaped_data.shape)

# Create a list to hold the column names
columns = []

# Create column names for x, y, and confidence for each keypoint
for i in range(1, reshaped_data.shape[2] + 1):
    columns.extend([f'X{i}', f'Y{i}', f'Confidence{i}'])

# Create a list to hold the data
data_to_write = []

# Combine the reshaped data with the object/person index
for i, keypoints in enumerate(reshaped_data):
    for j, keypoint in enumerate(keypoints):
        data_to_write.append([f'Object/Person {i + 1}', j + 1] + keypoint.tolist())

# Specify the CSV file name
csv_file = 'output.csv'

# Write to CSV
with open(csv_file, 'w', newline='') as file:
    writer = csv.writer(file)
    
    # Write the header
    writer.writerow(['Object/Person', 'Keypoint'] + columns)
    
    # Write the data
    writer.writerows(data_to_write)

print(f'Data has been written to {csv_file}')





